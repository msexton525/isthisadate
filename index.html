
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Curved Plane Animation</title>
  <style>
    body {
      margin: 0;
      background-color: midnightblue;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .map-container {
      position: relative;
      width: 447.2px; /* adjust as needed */
      height: 357.6px; /* adjust as needed */
      margin: 0 auto; /* center horizontally */
    }
    .map-container img {
      width: 100%;
      height: 100%;
      display: block;
    }
    svg {
      position: absolute;
      top: 200;
      left: 80;
    }
    .plane {
      width: 30px;
      transform-origin: center;
    }
  </style>
</head>
<body>

<div class="map-container">
  <img src="USMap.png" alt="Map">
  <svg width="447.2" height="357.6">
    <!-- Curved path from Point A to Point B -->
    <path id="flightPath" d="M80,200 Q216,96 392,120" fill="none" stroke="none" stroke-width="2"/>

    <!-- Plane image following the path -->
    <image id="plane" href="paperplanenew.png" class="plane" x="80" y="200" width="30" height="30"/>
  </svg>
</div>

<script>
  const path = document.getElementById("flightPath");
  const plane = document.getElementById("plane");

  let length = path.getTotalLength();
  let direction = 1;
  let progress = 0;

  function animate() {
    // Move forward or backward along the path
    progress += direction * 2; // Speed of the plane
    if (progress >= length || progress <= 0) {
      direction *= -1; // Reverse direction at end
    }

    // Get current and next points
    const pt = path.getPointAtLength(progress);
    const nextPt = path.getPointAtLength(progress + direction * 1);

    // Move plane to current position
    plane.setAttribute("x", pt.x - 20);
    plane.setAttribute("y", pt.y - 20);

    // Rotate to face the direction
    const angle = Math.atan2(nextPt.y - pt.y, nextPt.x - pt.x) * (180 / Math.PI);
    plane.setAttribute("transform", `rotate(${angle}, ${pt.x}, ${pt.y})`);

    requestAnimationFrame(animate);
  }

  animate();
</script>

</body>
</html>

