
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Plane Path with Rotation</title>
  <style>
    body {
      margin: 0;
      background-color: midnightblue;
    }
    .map-container {
      position: relative;
      width: 447.2px;
      height: 357.6px;
      margin: 0 auto;
    }
    .map-container img {
      width: 100%;
      height: 100%;
      display: block;
    }
    svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .plane {
      width: 30px;
      height: 30px;
    }
    
  </style>
</head>
<body>
  <div class="map-container">
    <img src="https://assets.onecompiler.app/43kew3pm6/3y5x8jr6s/USMap.png" alt="Map">
    <svg viewBox="0 0 447.2 357.6" preserveAspectRatio="xMidYMid meet">
      <!-- ✏️ Change this path to match your cities -->
      <path id="flightPath" d="M80,200 Q220,100 392,120" fill="none" stroke="none" />

      <!-- Plane image -->
      <image id="plane" href="forwardplane.png" href="backwardplane.png" class="plane" width="30" height="30" />
    </svg>
  </div>

  <script>
  const path = document.getElementById("flightPath");
  const plane = document.getElementById("plane");

  const totalLength = path.getTotalLength();
  let progress = 0;
  let direction = 1;

  function updatePlanePosition() {
    const pt = path.getPointAtLength(progress);

    // Center the image over the point
    const planeSize = 30;
    plane.setAttribute("x", pt.x - planeSize / 2);
    plane.setAttribute("y", pt.y - planeSize / 2);

    // Update plane image based on direction
    if (direction === 1) {
      plane.setAttribute("href", "forwardplane.png");
    } else {
      plane.setAttribute("href", "backwardplane.png");
    }
  }

  function animate() {
    progress += direction * 2;

    if (progress >= totalLength || progress <= 0) {
      direction *= -1;
    }

    updatePlanePosition();
    requestAnimationFrame(animate);
  }

  updatePlanePosition();
  animate();
</script>

</body>
</html>
